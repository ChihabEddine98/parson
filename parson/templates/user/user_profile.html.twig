{% extends 'base.html.twig' %}

{% block title %} Mon Profile {% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/home.css') }}">
{% endblock %}

{% block body_content %}

<div class="col-lg-12 mx-auto mt-3 pt-1">

    <div class="col-lg-12 text-center align-items-center ">

        <div class="col-lg-12  text-dark ">

            <div class="row col-12 mb-3 courseImg d-flex flex-row">
                <div class="col col-4">
                    <img style="height: 240px;object-fit: cover;" class="col-lg-10 col-md-7 col-sm-10 rounded-circle" src="{{ asset('img/profil_default_male.png') }}" alt="">
                </div>
                <div class="col col-8 info pl-0 d-flex flex-column text-left px-0  mt-4">
                    <div class="d-flex flex-row">
                        <h1 class="courseTitle "> {{ user.fullName }} </h1>
                        <img src="{{ asset('img/admin_icon.png') }}" class="sexeImg mx-3 mt-0" alt="">
                    </div>
                    <h4 class="text-muted ml-1"> {{ user.email }}</h4>
                    <h5 class="text-muted ml-1"> Membre {{ user.createdAt|ago }}</h5>
                    <h5 class="text-muted ml-1">
                        <i class="fas fa-phone-square-alt" style="font-size: 1.3em;"></i>
                        {{ user.phone }}
                    </h5>
                    <h5 class="text-muted ml-1">
                        <i class="fas fa-map-marked-alt" style="font-size: 1.3em;"></i>
                        {{ user.address }}
                    </h5>
                    <h5 class="text-muted ml-1" style="font-size: 1.4em;">
                        <i class="fas fa-comments" ></i>
                        <b> {{ user.comments.count }}</b> comments
                    </h5>

                </div>
            </div><!-- /.row -->

            <hr>
            <h1> TODO</h1>
            <hr>
            <div class="row p-0">
                {# Info Heures et nb_students #}
                <div class="col-lg-6 col-sm-12 mx-auto my-2 d-flex flex-column text-center">
                    <a href="">
                        {#<img src="{{ asset('img/admin_icon.png') }}" alt="" class="sexeImg">#}
                        <i class="fas fa-chart-line" style="font-size: 2.8rem; color:#48bfff;"></i>
                    </a>
                    <h5 href="#">
                        <b>{{ nbUsers ? nbUsers : "Personne encore" }}</b> étudiant(e)s inscrit(e)s
                    </h5>
                    <a href="#">

                    </a>
                    <a href="#" class="text-dark">
                        Note  moyenne  : <b>{{ average|number_format(2)}} / 20 </b>
                    </a>
                    <p>
                        #Volume horaire : <b>{{ nbHours|number_format(0) }} H </b>
                    </p>
                </div>

                {# Cours notes !#}
                <div class="col col-lg-6 col-sm-12 mx-auto my-2 d-flex flex-column text-center">
                    <a href="#">
                        {#<img src="{{ asset('img/simple_icon.png') }}" class="sexeImg" alt="">#}
                        <i class="fas fa-heart" style="color: red; font-size: 2.8em;"></i>
                    </a>
                    <h5 href="#" class="mb-0">
                        Avis Moyen
                    </h5>
                    <b>
                        {{ rating|number_format(1) }} / 5
                    </b>
                    <a href="#" class="">
                        Donnez Votre Avis
                    </a>
                </div>
            </div> {# END row #}

            <hr>
            <h1> Cours Crées (<b>{{ user.createdCourses.count }}</b> résultats)</h1>
            <div class="row ml-5">
                {% if user.createdCourses.count %}
                    {% for course in user.createdCourses %}
                        {% set theme=random(['text-light bg-primary','text-light bg-dark','text-light bg-info',
                            'text-light bg-danger','text-light bg-success',
                            'text-light bg-secondary','text-dark bg-warning'])  %}
                        <div class="card {{theme}} mb-3 mx-1" style="max-width: 18rem;">
                            <div class="card-header">{{course.createdAt|ago }}</div>
                            <div class="card-body text-center">
                                <h5 class="card-title">{{ course.title|truncate(50) }}</h5>
                                <p> <b>( {{ course.exercises.count }} exercice , {{ course.comments.count }} avis ) </b></p>
                                <a href="{{ path('course_detail',{'id':course.id}) }}" class="btn btn-outline-{{ theme=='text-dark bg-warning' ? 'dark': 'light'}}">
                                    Voir En Détail
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <h1>  Aucun cours pour le moment :/</h1>
                {% endif %}

            </div>{# END row #}






        </div>
        </div>
        </div>

            {#<div class="col-lg-6 mx-auto mt-5 py-5">#}

        {#<div class="col-12 text-center ">#}

            {#<div class=" py-5 col-12 text-dark">#}
                {#<h1>  Bienvenue à Profile ! {{ user.fullName }}</h1>#}
                {#<div class="welcome">#}
                    {#<p> Trouvez un cours qui vous va le mieux ! </p>#}
                    {#<p> Pour Bénificier des fonctionnalités de ParSon Veuillez ... </p>#}
                {#</div>#}
                {#<!-- <div class="btn_">#}
                    {#<a href="/register" class="btn"> Commencer ! </a>#}
                {#</div> -->#}
            {#</div>#}

        {#</div>#}

    {#</div>#}

{% endblock %}

